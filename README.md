# üç∫ Beer Tap System ‚Äî Demo-Ready
[![–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: Demo-Ready](https://img.shields.io/badge/status-Demo--Ready-brightgreen)](https://shields.io/)
[![–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: Svelte 5, Tauri 2, FastAPI, PostgreSQL, SQLite](https://img.shields.io/badge/stack-Svelte%205%20|%20Tauri%202%20|%20FastAPI%20|%20PostgreSQL%20|%20SQLite-blue)](https://shields.io/)
[![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Offline-First](https://img.shields.io/badge/architecture-Offline--First-orange)](https://shields.io/)

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ [`docs/INDEX.md`](./docs/INDEX.md).

–ü–æ–ª–Ω—ã–π MVP-–ø–∞–∫–µ—Ç (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã demo-—Ñ–∞–∑—ã) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [`/docs/mvp`](./docs/mvp).

- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ MVP (`mvp-bar-instruction_v1.0.md`)](./docs/mvp/mvp-bar-instruction_v1.0.md)
- [Executive Summary (`mvp-bar-exec-summary.md`)](./docs/mvp/mvp-bar-exec-summary.md)
- [Bill of Materials (BOM)](./docs/mvp/mvp-bar-bom.csv)
- [Metadata JSON (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)](./docs/mvp/mvp-bar-metadata.json)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è](./docs/REPO_AUDIT.md)

**–ê–ø–ø–∞—Ä–∞—Ç–Ω–æ-–ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è –±–∞—Ä–∞ —Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è, —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.**

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Demo-Ready –ø—Ä–æ–µ–∫—Ç—É. –û–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤, –≤–æ–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –≤ –µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É.

---

## üîê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –ª–æ–∫–∞–ª—å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º —Å–æ–∑–¥–∞–π—Ç–µ `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ `.env.example` –∏ –∑–∞–¥–∞–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è `SECRET_KEY`, `INTERNAL_API_KEY` (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `INTERNAL_TOKEN` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å RPi-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º). –î–ª—è dev-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å legacy —Ç–æ–∫–µ–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `ALLOW_LEGACY_DEMO_INTERNAL_TOKEN`.

## üõ†Ô∏è –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (Hardware Mode)

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Raspberry Pi:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞—Ç—á–∏–∫–∏ YF-S201 –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞ –∂–∏–¥–∫–æ—Å—Ç–∏ –∏ —Å—á–∏—Ç—ã–≤–∞—Ç–µ–ª—å NFC ACR122U.
- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã: ¬´–ü—Ä–∏–ª–æ–∂–∏–ª –∫–∞—Ä—Ç—É ‚Äî –∫–ª–∞–ø–∞–Ω –æ—Ç–∫—Ä—ã–ª—Å—è, —É–±—Ä–∞–ª ‚Äî –∑–∞–∫—Ä—ã–ª—Å—è¬ª.
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `hardware.py`, `flow_manager.py`, `sync_manager.py`, `database.py`.
- –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite) —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (PostgreSQL).

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
1.  [–§–∏–ª–æ—Å–æ—Ñ–∏—è –∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è](#-—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-–∏-–∫–ª—é—á–µ–≤—ã–µ-—Ä–µ—à–µ–Ω–∏—è)
2.  [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
    *   [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
    *   [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (Data Flow)](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö-data-flow)
3.  [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Getting Started)](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-getting-started)
    *   [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
    *   [–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](#–ø–æ—à–∞–≥–æ–≤–∞—è-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–æ-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é)
4.  [üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#üõ†Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
5.  [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)
6.  [ü§ù –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ (Contributing)](#-–∫–∞–∫-–≤–Ω–µ—Å—Ç–∏-—Å–≤–æ–π-–≤–∫–ª–∞–¥-contributing)
7.  [ü§ñ –î–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤](#-–¥–ª—è-ai-–∞–≥–µ–Ω—Ç–æ–≤-–∏-–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö-–∏–Ω–∂–µ–Ω–µ—Ä–æ–≤)

---

## üß≠ –§–∏–ª–æ—Å–æ—Ñ–∏—è –∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ç—Ä–µ—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞–ª–∏ –≤—Å–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è.

> **[–ò–°–¢–û–ß–ù–ò–ö]** –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: *¬´–°–∏—Å—Ç–µ–º–∞ ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è (–Ω–µ—Ç –æ–±–ª–∞–∫–∞) –Ω–∞ –Ω–∞—á–∞–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ... –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã... —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ñ–ª–∞–π–Ω —Å –ª–æ–∫–∞–ª—å–Ω—ã–º SQLite-–∂—É—Ä–Ω–∞–ª–æ–º –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º PostgreSQL.¬ª*

1.  **üåç –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å (Local-First):** –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–∞ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî —Å–µ—Ä–≤–µ—Ä, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –µ–¥–∏–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –±–∞—Ä–∞. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–±–æ–µ–≤.

2.  **üõ°Ô∏è –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å (Reliability-First):** –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Äî —Ç–æ—á–Ω–æ—Å—Ç—å —É—á–µ—Ç–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Ç–µ—Ä—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–∂–∏–º–µ "–æ—Ñ–ª–∞–π–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é". –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–µ–∂–Ω–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –∂—É—Ä–Ω–∞–ª–µ –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

3.  **üì¶ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å (Reproducibility-First):** –í—Å—è —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ä–µ–¥–∞ —É–ø–∞–∫–æ–≤–∞–Ω–∞ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –Ω–∞ –±–æ–µ–≤–æ–º –º–∏–Ω–∏-–ü–ö –≤ –±–∞—Ä–µ, —É—Å—Ç—Ä–∞–Ω—è—è –∫–ª–∞—Å—Å –ø—Ä–æ–±–ª–µ–º "—É –º–µ–Ω—è –Ω–∞ –º–∞—à–∏–Ω–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–ª–æ".

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–æ–≤:
1.  **–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:** "–ú–æ–∑–≥" –æ–ø–µ—Ä–∞—Ü–∏–∏. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–∏–Ω–∏-–ü–ö –≤ –±–∞—Ä–µ. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è API, –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.
2.  **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∫—Ä–∞–Ω–∞:** "–†—É–∫–∏ –∏ –≥–ª–∞–∑–∞" —Å–∏—Å—Ç–µ–º—ã. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –±–∞–∑–µ Raspberry Pi, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–µ –∫ RFID-—Å—á–∏—Ç—ã–≤–∞—Ç–µ–ª—é –∏ (–≤ –±—É–¥—É—â–µ–º) –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é –¥–ª—è —Ä–æ–∑–ª–∏–≤–∞.
3.  **–†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ –±–∞—Ä–º–µ–Ω–∞:** "–ü—É–Ω–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è". –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å –ª—é–±–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (Data Flow)

```mermaid
graph TD
    subgraph "–ë–∞—Ä–º–µ–Ω (–†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ)"
        AdminUI[–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ]
    end

    subgraph "–°–µ—Ä–≤–µ—Ä (–ú–∏–Ω–∏-–ü–ö)"
        NGINX[Nginx]
        API[Backend API <br> FastAPI]
        DB[(PostgreSQL)]
    end

    subgraph "–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (Raspberry Pi)"
        ControllerApp[Python App]
        LocalDB[(SQLite)]
        RFID[ACR122U]
    end

    AdminUI -- 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è --> NGINX
    NGINX -- /api --> API
    API -- 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î --> DB

    RFID -- 3. –ö–∞—Ä—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∞ --> ControllerApp
    ControllerApp -- 4. –ó–∞–ø–∏—Å—å –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –∂—É—Ä–Ω–∞–ª --> LocalDB
    ControllerApp -- 5. –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (HTTP) --> API
    API -- 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ --> DB
    API -- 7. –û—Ç–≤–µ—Ç –æ —Å—Ç–∞—Ç—É—Å–µ --> ControllerApp
    ControllerApp -- 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –∂—É—Ä–Ω–∞–ª–µ --> LocalDB
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Getting Started)

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–æ–ª–Ω—É—é MVP-—Å–∏—Å—Ç–µ–º—É —Å –Ω—É–ª—è.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker, Docker Compose, Git, Node.js v22 (—á–µ—Ä–µ–∑ nvm).
- **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:** Raspberry Pi 3B+ (–∏–ª–∏ –Ω–æ–≤–µ–µ) —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π Raspberry Pi OS Lite (64-bit) –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º SSH-–¥–æ—Å—Ç—É–ø–æ–º.
- **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:** RFID-—Å—á–∏—Ç—ã–≤–∞—Ç–µ–ª—å ACR122U.
- **–°–µ—Ç—å:** –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä:
    ```bash
    git clone <URL_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø>
    cd beer-tap-system
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:** –°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ ` .env.example` (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–±–ª–æ–Ω, —É–∫–∞–∑–∞–≤ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å:
    ```.env
    POSTGRES_USER=user
    POSTGRES_PASSWORD=password
    POSTGRES_DB=db
    DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}
    ```

3.  **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–±–æ—Ä–∫—É –∏ –∑–∞–ø—É—Å–∫ backend + PostgreSQL.
    ```bash
    docker-compose up -d --build
    ```
    –ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000` (Swagger UI: `http://localhost:8000/docs`).

4.  **–ó–∞–ø—É—Å–∫ admin-app (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç docker-compose):**
    ```bash
    cd admin-app
    npm ci
    npm run dev
    ```

5.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:**
    - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `rpi-controller` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ Raspberry Pi.
    - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ RPi –ø–æ SSH –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–ø–∫—É.
    - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ `venv`), —Å–ª–µ–¥—É—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≠—Ç–∞–ø–∞ 3.
    - –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `config.py`, —É–∫–∞–∑–∞–≤ **—Ä–µ–∞–ª—å–Ω—ã–π IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞** –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `SERVER_URL`.

6.  **–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:** –ù–∞—Ö–æ–¥—è—Å—å –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ RPi –∏ —Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º `venv`, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
    ```bash
    python3 main.py
    ```

7.  **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–æ–∑–¥–∞–π—Ç–µ –≥–æ—Å—Ç—è –≤ admin-app –∏ —ç–º—É–ª–∏—Ä—É–π—Ç–µ –Ω–∞–ª–∏–≤ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è/–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**| Docker & Docker Compose| latest | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã |
| **–°–µ—Ä–≤–µ—Ä (Backend)**| Python | 3.11+ | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ |
| | FastAPI | latest | –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API |
| | PostgreSQL | 15+ | –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| | SQLAlchemy | 2.x | ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Frontend)**| Svelte 5 | 5.0.0+ | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è UI |
| | Tauri 2.0 | 2.8.5+ | –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π |
| | Rust | latest | –Ø–∑—ã–∫ –¥–ª—è NFC-–±—ç–∫–µ–Ω–¥–∞ –≤ Tauri |
| | Vite | 6.0.3+ | –°–±–æ—Ä—â–∏–∫ –∏ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| | Nginx | 1.21+ | –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy |
| | Node.js | 22.x | –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ |
| **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** | Raspberry Pi OS Lite | 64-bit | –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ |
| | Python | 3.x | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ |
| | SQLite | 3.x (WAL) | –õ–æ–∫–∞–ª—å–Ω–∞—è, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| | gpiozero | latest | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPIO |
| | LGPIOFactory | latest | –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GPIO –ø–∏–Ω–∞–º–∏ |
| | Pyscard | latest | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RFID-—Å—á–∏—Ç—ã–≤–∞—Ç–µ–ª–µ–º |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)

```
beer-tap-system/
‚îú‚îÄ‚îÄ backend/                      # FastAPI + SQLAlchemy + Alembic
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # –†–æ—É—Ç–µ—Ä—ã API
‚îÇ   ‚îú‚îÄ‚îÄ crud/                     # –û–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
‚îÇ   ‚îú‚îÄ‚îÄ tests/                    # Backend —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ API
‚îÇ   ‚îú‚îÄ‚îÄ models.py                 # –ú–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ schemas.py                # Pydantic-—Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ admin-app/                    # Svelte + Tauri –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/                      # UI
‚îÇ   ‚îî‚îÄ‚îÄ src-tauri/                # Rust/Tauri —Å–ª–æ–π
‚îú‚îÄ‚îÄ rpi-controller/               # –ü–û –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ Raspberry Pi
‚îÇ   ‚îú‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ hardware.py               # –†–∞–±–æ—Ç–∞ —Å GPIO/NFC
‚îÇ   ‚îú‚îÄ‚îÄ flow_manager.py           # –£—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ database.py               # –õ–æ–∫–∞–ª—å–Ω–∞—è SQLite
‚îÇ   ‚îî‚îÄ‚îÄ sync_manager.py           # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å backend
‚îú‚îÄ‚îÄ docs/                         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ .github/workflows/            # CI/CD –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îú‚îÄ‚îÄ docker-compose.yml            # –ü–æ–¥—ä–µ–º backend + postgres
‚îî‚îÄ‚îÄ README.md                     # –¢–µ–∫—É—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
```

> –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É README –∏ –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –≤ `docs/` –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–¥–µ.

---

## ü§ù –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ (Contributing)

1.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
2.  –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ–∏—á–∏ (`git checkout -b feature/AmazingFeature`).
3.  –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç –≤–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (`git commit -m 'Add some AmazingFeature'`).
4.  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/AmazingFeature`).
5.  –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request.

---

## ü§ñ –î–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–°–Ω–∞—á–∞–ª–∞ –∫–æ–¥ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã:**
   - backend API –∏ —Ä–æ—É—Ç–µ—Ä—ã: `backend/main.py`, `backend/api/*.py`;
   - —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö: `backend/models.py`, `backend/schemas.py`;
   - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: `rpi-controller/main.py`, `rpi-controller/sync_manager.py`.
2. **–ü–æ—Ç–æ–º –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ `docs/`:**
   - `docs/INDEX.md` –∫–∞–∫ –∫–∞—Ä—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏;
   - `docs/API_REFERENCE.md` –∏ `docs/INTERFACE_CONTRACT.md` –¥–ª—è API/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π;
   - `docs/RPI_INTERNALS.md` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.
3. **README –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ –æ–±–∑–æ—Ä**, –Ω–æ –Ω–µ –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π source of truth –¥–ª—è —Ç–æ—á–Ω—ã—Ö API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥—É–ª–µ–π.
4. **–ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** –º–µ–∂–¥—É README, `docs/` –∏ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.
