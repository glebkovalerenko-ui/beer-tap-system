# Phase 2 — Text Wireframes (ASCII)

## Scope

Ниже — текстовые wireframes ключевых экранов для реализации demo-ready POS workspace.

Легенда:
- `[P]` primary CTA
- `[S]` secondary action
- `[!]` high-risk action
- `(status)` operational status pill

---

## 1) Global Shell

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ BEER TAP POS | Операция: Пополнение                                                         │
│ Guest: Иван П. | Card: ****A1B2 | Active   Shift(open)  Net(online)  NFC(ok)  Queue(0)    │
│                                                                          Анна / Кассир ▼    │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 2) Screen: Identify Guest / Start Operation

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Поиск гостя                                                                                 │
│ Найдите гостя по имени/телефону или сканируйте карту                                        │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ [ Поиск: телефон / имя / UID карты ................................................. ] [S] │
│                                                                                              │
│ ┌───────────────────────────────┐  ┌──────────────────────────────────────────────────────┐ │
│ │ Быстрые операции              │  │ Результаты поиска                                   │ │
│ │ [P] Выдать карту              │  │ • Иван Петров   +7...   Баланс: 850               │ │
│ │ [S] Пополнить                 │  │ • Мария Сидорова +7... Баланс: 120                │ │
│ │ [S] Проверить баланс          │  │ • ...                                              │ │
│ │ [S] Инцидент                  │  │                                                    │ │
│ └───────────────────────────────┘  └──────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 3) Screen: Issue Card / Register Guest

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Выдать карту                                                                                 │
│ Новый гость / Существующий гость                                                            │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ [Новый гость ●] [Существующий ○]                                                             │
│                                                                                              │
│ ФИО* [.................................................]  Телефон* [.................]      │
│                                                                                              │
│ ┌──────────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ NFC Reader: OK                                                                            │ │
│ │ Поднесите карту к считывателю                                                             │ │
│ │ UID: ______________                                                                         │ │
│ └──────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                              │
│ [P] Подтвердить выдачу карты            [S] Отмена                                           │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

### Error state (card already assigned)

```text
[Error] Эта карта уже привязана к другому гостю.
[S] Открыть владельца карты   [S] Сканировать другую карту
```

---

## 4) Screen: Top Up (presets + keypad)

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Пополнение баланса                                                                           │
│ Гость: Иван Петров   Карта: ****A1B2   Текущий баланс: 850.00                               │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ Presets: [200] [500] [1000] [1500] [2000]                                                   │
│                                                                                              │
│                 Сумма: 1 000.00                                                              │
│              ┌───────────────┐                                                               │
│              │ 1 │ 2 │ 3 │   │                                                               │
│              │ 4 │ 5 │ 6 │ ⌫ │                                                               │
│              │ 7 │ 8 │ 9 │   │                                                               │
│              │ 00│ 0 │ . │   │                                                               │
│              └───────────────┘                                                               │
│                                                                                              │
│ Method: [Cash ▼]                                                                             │
│                                                                                              │
│ [P] Подтвердить пополнение             [S] Отмена                                            │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

### Post-success toast

```text
[Success] Баланс пополнен на 1000.00   [S] Отменить (00:10)
```

---

## 5) Screen: Balance & History (unified)

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Баланс и история                                                                             │
│ Гость: Иван Петров                                                                           │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ Баланс: 1 850.00                                                                             │
│ Статус карты: Active                                                                         │
│                                                                                              │
│ Последние операции                                                                           │
│ ┌──────────────────────────────────────────────────────────────────────────────────────────┐ │
│ │ 12:41  Пополнение   +1000.00   Кассир: Анна   TX: #A912                                 │ │
│ │ 12:10  Пополнение   +500.00    Кассир: Анна   TX: #A901                                 │ │
│ │ 11:52  Коррекция    -100.00    Админ: Игорь   TX: #A899                                 │ │
│ └──────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                              │
│ [P] Пополнить     [S] Блокировать карту [!]     [S] Инцидент                                │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

### Empty state

```text
История операций пуста.
[P] Выполнить первое пополнение
```

---

## 6) Screen: Block / Reissue card (high-risk)

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Управление картой                                                                            │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ Текущая карта: ****A1B2  (Active)                                                            │
│                                                                                              │
│ [!] [S] Блокировать карту                                                                    │
│ Причина: [Утеря ▼]                                                                           │
│                                                                                              │
│ Перевыпуск карты                                                                             │
│ Новая карта UID: ____________  [S] Сканировать                                               │
│ [ ] Перенести баланс на новую карту                                                          │
│                                                                                              │
│ [P] Подтвердить перевыпуск            [S] Отмена                                              │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

### Confirm modal

```text
┌───────────────────────────────────────────┐
│ Подтвердите действие                      │
│ Вы перевыпускаете карту гостя Иван П.     │
│ Старая карта будет заблокирована.         │
│ [P] Да, подтвердить   [S] Отмена          │
└───────────────────────────────────────────┘
```

---

## 7) Screen: Incident / Recovery

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Инцидент                                                                                     │
│ Используйте этот экран, если операция не завершилась штатно                                 │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ Тип: [Ошибка списания ▼]                                                                     │
│ Гость: Иван Петров                                                                           │
│ Операция: TX #A912                                                                           │
│ Комментарий: [.........................................................................]    │
│                                                                                              │
│ Рекомендации:                                                                                │
│ • Проверить историю гостя                                                                     │
│ • Сверить сумму и статус транзакции                                                           │
│ • При необходимости вызвать администратора                                                    │
│                                                                                              │
│ [P] Создать инцидент                 [S] Назад к гостю                                       │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 8) Screen: Shift Open / Close + Quick Report

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Смена                                                                                         │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ Статус: Closed                                                                                │
│ Оператор: Анна (Кассир)                                                                       │
│                                                                                               │
│ [P] Открыть смену                                                                             │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

```text
┌──────────────────────────────────────────────────────────────────────────────────────────────┐
│ Закрытие смены                                                                                │
├──────────────────────────────────────────────────────────────────────────────────────────────┤
│ Shift ID: S-2026-02-18-01                                                                     │
│ Операций: 124                                                                                 │
│ Пополнений: 96  /  Сумма: 148 000                                                             │
│ Инциденты: 2                                                                                  │
│ Unsynced: 0                                                                                   │
│                                                                                               │
│ [P] Подтвердить закрытие смены       [S] Отмена                                               │
└──────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 9) Global degraded/offline states

## Network degraded banner

```text
[Warning] Нестабильное соединение. Часть операций может выполняться с задержкой.
[S] Открыть статус синхронизации
```

## NFC error banner

```text
[Error] NFC считыватель недоступен. Выдача/перевыпуск карты временно недоступны.
[S] Проверить устройство   [S] Повторить
```

---

## 10) Wireframe validation checklist

- [x] Для частых операций есть явный primary CTA.
- [x] Видны статусы смены/сети/NFC/queue.
- [x] Денежные/критичные действия имеют confirm/undo.
- [x] Ошибки и пустые состояния дают следующий шаг.
- [x] Экраны соответствуют speed-first POS-паттерну.
