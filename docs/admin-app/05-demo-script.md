# Phase 3 — Demo Script (Investor-ready)

## Purpose

Этот сценарий нужен для стабильной, воспроизводимой демонстрации admin-app как зрелого POS-воркспейса.

- Target duration: **6–8 минут**
- Goal: показать скорость, надежность и понятность операций кассира
- Style: демонстрация по операциям, не по разделам меню

---

## 0) Pre-demo setup (2–3 минуты до начала)

## Environment
- Backend доступен по `VITE_API_BASE_URL`.
- Admin-app открыт и авторизован.
- Если среда нестабильна — включить `Demo mode` в top bar.

## Sanity checks
1. В shell видны:
   - guest context chip,
   - shift status,
   - network status,
   - NFC status.
2. Открывается маршрут `#/guests`.
3. Открывается маршрут `#/` (dashboard).

---

## 1) Opening scene — POS shell & operational visibility (45 сек)

## What to show
- Верхняя панель: контекст гостя, статусы смены/сети/NFC.
- Fallback banner (если demo mode/ошибки).
- Левое меню с фокусом на операциях.

## Message
“Это рабочее место кассира: один взгляд — и видно, можно ли безопасно проводить операцию.”

---

## 2) Open shift (45–60 сек)

## Steps
1. Перейти в `Дашборд`.
2. Нажать `Открыть смену`.
3. Показать, что статус смены изменился.

## Expected result
- Shift panel показывает `Смена открыта`.
- В top status pills смена = открыта.

## Talk track
“Денежные операции защищены: без активной смены пополнение не выполняется.”

---

## 3) Identify guest / select context (60–90 сек)

## Steps
1. Перейти в `Гости и операции`.
2. Через поиск найти гостя или выбрать из списка.
3. Показать, как guest context обновился в top bar.

## Expected result
- В detail-панели показан выбранный гость.
- В top bar отображается имя/карта/статус.

## Talk track
“Контекст гостя глобальный — кассир всегда видит, с кем работает.”

---

## 4) Top-up flow (90–120 сек)

## Steps
1. Нажать `Пополнить` в карточке гостя.
2. Выбрать сумму через presets или keypad.
3. Подтвердить пополнение.
4. Показать success feedback и обновленный баланс.

## Expected result
- Валидируемый ввод суммы.
- Кнопка подтверждения в loading-state на время запроса.
- После успеха баланс обновлен; shift summary учитывает операцию.

## Talk track
“Частая операция выполняется быстро и защищена от ошибок ввода/повторного нажатия.”

---

## 5) Balance + recent history (60 сек)

## Steps
1. На том же экране показать блок `Последние операции`.
2. Если транзакций нет — показать graceful fallback.
3. Показать, что есть actionable next step (привязать карту/пополнить).

## Expected result
- Один экран: баланс + история + действия.
- Нет тупиковых пустых состояний.

---

## 6) Controlled degraded scenario (60 сек)

## Option A (recommended)
- Включить `Demo mode` в top bar.
- Показать fallback banner с понятным текстом.

## Option B
- Имитировать NFC error (если доступно в среде).
- Показать, что UI предлагает продолжить сценарий с уже привязанной картой.

## Expected result
- Нет критического падения UI.
- Есть next-best-action для кассира.

## Talk track
“Даже при нестабильной среде сценарий не ломается — интерфейс ведет пользователя дальше.”

---

## 7) Shift close + quick summary (45–60 сек)

## Steps
1. Вернуться в `Дашборд`.
2. Нажать `Закрыть смену`.
3. Показать summary по смене (число операций/сумма).

## Expected result
- Смена закрыта.
- Summary читаем и логичен для оператора.

---

## 8) End state (15 сек)

## Final line
“Мы показали полный кассовый цикл: открытие смены → работа с гостем → пополнение → контроль истории → устойчивое поведение при сбоях → закрытие смены.”

---

## Backup branches (if something fails live)

1. **Если backend недоступен**:
   - включить `Demo mode`;
   - показать shell/fallback/top-up UX без hard-stop.

2. **Если NFC недоступен**:
   - использовать гостя с уже привязанной картой;
   - продолжить пополнение/историю/смену.

3. **Если операция вернула ошибку**:
   - проговорить, что система показывает next action;
   - перейти к следующему шагу сценария.

---

## Demo pass criteria

- [ ] Полный сценарий пройден <= 8 минут.
- [ ] Нет UI-crash / blank state без CTA.
- [ ] На каждом экране понятен главный CTA.
- [ ] Ключевые статусы (shift/network/NFC) видимы.
- [ ] Показан минимум один recovery-path.
